---
title: Praca z jednostkami odłączonego - EF6
author: divega
ms.date: 2016-10-23
ms.prod: entity-framework
ms.author: divega
ms.manager: avickers
ms.technology: entity-framework-6
ms.topic: article
ms.assetid: 12138003-a373-4817-b1b7-724130202f5f
caps.latest.revision: 3
ms.openlocfilehash: 5419215a77b57ab3c92fb88a512510070ea23bd6
ms.sourcegitcommit: 45494121254ad4fdcec613d1dd22d850068d6f39
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/08/2018
ms.locfileid: "37913447"
---
# <a name="working-with-disconnected-entities"></a><span data-ttu-id="245d9-102">Praca z odłączone jednostki</span><span class="sxs-lookup"><span data-stu-id="245d9-102">Working with disconnected entities</span></span>
<span data-ttu-id="245d9-103">W aplikacji Entity Framework, na podstawie klasy kontekstu jest odpowiedzialny za wykrywanie zmian zastosowanych do śledzonych jednostek.</span><span class="sxs-lookup"><span data-stu-id="245d9-103">In an Entity Framework-based application, a context class is responsible for detecting changes applied to tracked entities.</span></span> <span data-ttu-id="245d9-104">Wywołanie metody SaveChanges utrzymuje zmian śledzonych przez kontekst do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="245d9-104">Calling the SaveChanges method persists the changes tracked by the context to the database.</span></span> <span data-ttu-id="245d9-105">Podczas pracy z aplikacjami n warstwowej, obiekty jednostki są zazwyczaj modyfikowane przy braku połączenia z kontekstu i należy zdecydować, jak śledzić zmiany i raportu te zmiany do kontekstu.</span><span class="sxs-lookup"><span data-stu-id="245d9-105">When working with n-tier applications, entity objects are usually modified while disconnected from the context, and you must decide how to track changes and report those changes back to the context.</span></span> <span data-ttu-id="245d9-106">W tym temacie omówiono różne opcje, które są dostępne, gdy używający narzędzia Entity Framework o odłączony jednostek.</span><span class="sxs-lookup"><span data-stu-id="245d9-106">This topic discusses different options that are available when using Entity Framework with disconnected entities.</span></span>   

## <a name="web-service-frameworks"></a><span data-ttu-id="245d9-107">Struktury usługi sieci Web</span><span class="sxs-lookup"><span data-stu-id="245d9-107">Web service frameworks</span></span>

<span data-ttu-id="245d9-108">Technologie usług sieci Web zwykle obsługują wzorce, które mogą służyć do utrwalenia zmian na poszczególne obiekty odłączonych.</span><span class="sxs-lookup"><span data-stu-id="245d9-108">Web services technologies typically support patterns that can be used to persist changes on individual disconnected objects.</span></span> <span data-ttu-id="245d9-109">Na przykład ASP.NET Web API umożliwia akcji kontrolera kodu, które może obejmować wywołania do EF, aby zachować zmiany wprowadzone do obiektu w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="245d9-109">For example, ASP.NET Web API allows you to code controller actions that can include calls to EF to persist changes made to an object on a database.</span></span> <span data-ttu-id="245d9-110">W rzeczywistości internetowy interfejs API, narzędzi w programie Visual Studio ułatwia tworzenia szkieletu kontrolera interfejsu API sieci Web z modelu Entity Framework 6.</span><span class="sxs-lookup"><span data-stu-id="245d9-110">In fact, the Web API tooling in Visual Studio makes it easy to scaffold a Web API controller from your Entity Framework 6 model.</span></span> <span data-ttu-id="245d9-111">Aby uzyskać więcej informacji, zobacz [przy użyciu interfejsu API sieci Web za pomocą platformy Entity Framework 6](https://docs.microsoft.com/en-us/aspnet/web-api/overview/data/using-web-api-with-entity-framework/).</span><span class="sxs-lookup"><span data-stu-id="245d9-111">For more information, see [using Web API with Entity Framework 6](https://docs.microsoft.com/en-us/aspnet/web-api/overview/data/using-web-api-with-entity-framework/).</span></span>   

<span data-ttu-id="245d9-112">W przeszłości były kilka innych technologii sieci Web usługi, które oferowane integracji z programem Entity Framework, takie jak [usług danych WCF](https://docs.microsoft.com/dotnet/framework/data/wcf/create-a-data-service-using-an-adonet-ef-data-wcf) i [RIA Services](https://docs.microsoft.com/en-us/previous-versions/dotnet/wcf-ria/ee707344(v=vs.91)).</span><span class="sxs-lookup"><span data-stu-id="245d9-112">Historically, there have been several other Web services technologies that offered integration with Entity Framework, like [WCF Data Services](https://docs.microsoft.com/dotnet/framework/data/wcf/create-a-data-service-using-an-adonet-ef-data-wcf) and [RIA Services](https://docs.microsoft.com/en-us/previous-versions/dotnet/wcf-ria/ee707344(v=vs.91)).</span></span>

## <a name="low-level-ef-apis"></a><span data-ttu-id="245d9-113">Interfejsy API niskiego poziomu EF</span><span class="sxs-lookup"><span data-stu-id="245d9-113">Low-level EF APIs</span></span>

<span data-ttu-id="245d9-114">Jeśli nie chcesz użyć istniejącego rozwiązania n warstwowa lub jeśli chcesz dostosować, co się dzieje w akcji kontrolera, w usługach interfejsu API sieci Web, platformy Entity Framework udostępnia interfejsy API, które umożliwiają zastosowanie zmian wprowadzonych w warstwie odłączonych.</span><span class="sxs-lookup"><span data-stu-id="245d9-114">If you don't want to use an existing n-tier solution, or if you want to customize what happens inside a controller action in a Web API services, Entity Framework provides APIs that allow you to apply changes made on a disconnected tier.</span></span> <span data-ttu-id="245d9-115">Aby uzyskać więcej informacji, zobacz [stanu Dodaj, Dołącz i jednostki](~/ef6/saving/change-tracking/entity-state.md).</span><span class="sxs-lookup"><span data-stu-id="245d9-115">For more information, see [Add, Attach, and entity state](~/ef6/saving/change-tracking/entity-state.md).</span></span>  

## <a name="self-tracking-entities"></a><span data-ttu-id="245d9-116">Samodzielnie śledzenie jednostek</span><span class="sxs-lookup"><span data-stu-id="245d9-116">Self-Tracking Entities</span></span>  

<span data-ttu-id="245d9-117">Śledzenie zmian na wykresach dowolnego jednostek przy braku połączenia z kontekstu EF jest twardych problem.</span><span class="sxs-lookup"><span data-stu-id="245d9-117">Tracking changes on arbitrary graphs of entities while disconnected from the EF context is a hard problem.</span></span> <span data-ttu-id="245d9-118">Jeden z próbuje rozwiązać problem był szablonu generacji kodu Self-Tracking jednostek.</span><span class="sxs-lookup"><span data-stu-id="245d9-118">One of the attempts to solve it was the Self-Tracking Entities code generation template.</span></span> <span data-ttu-id="245d9-119">Ten szablon generuje klasy jednostek, które zawierają logikę do śledzenia zmian wprowadzanych w warstwie odłączonego jako stan w samych jednostkach.</span><span class="sxs-lookup"><span data-stu-id="245d9-119">This template generates entity classes that contain logic to track changes made on a disconnected tier as state in the entities themselves.</span></span> <span data-ttu-id="245d9-120">Zestaw metod rozszerzenia zostanie również wygenerowany tak, aby zastosować te zmiany do kontekstu.</span><span class="sxs-lookup"><span data-stu-id="245d9-120">A set of extension methods is also generated to apply those changes to a context.</span></span>

<span data-ttu-id="245d9-121">Ten szablon może być używany z modeli utworzonych za pomocą projektanta EF, ale nie można używać w modelach Code First.</span><span class="sxs-lookup"><span data-stu-id="245d9-121">This template can be used with models created using the EF Designer, but can not be used with Code First models.</span></span> <span data-ttu-id="245d9-122">Aby uzyskać więcej informacji, zobacz [jednostek Self-Tracking](self-tracking-entities/index.md).</span><span class="sxs-lookup"><span data-stu-id="245d9-122">For more information, see [Self-Tracking Entities](self-tracking-entities/index.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="245d9-123">Nie zaleca się przy użyciu szablonu samoobsługowego tracking jednostek.</span><span class="sxs-lookup"><span data-stu-id="245d9-123">We no longer recommend using the self-tracking-entities template.</span></span> <span data-ttu-id="245d9-124">Tylko będą dostępne do obsługi istniejących aplikacji.</span><span class="sxs-lookup"><span data-stu-id="245d9-124">It will only continue to be available to support existing applications.</span></span> <span data-ttu-id="245d9-125">Jeśli aplikacja wymaga pracy z wykresami odłączonych jednostek, należy wziąć pod uwagę inne alternatywy dla takich jak [słupkowych jednostek](http://trackableentities.github.io/), która jest podobna do samoobsługowego-Tracking-jednostek, które jest bardziej aktywnie rozwijany przez technologię Społeczność lub pisanie kodu niestandardowego za pomocą śledzenia interfejsów API zmian niskiego poziomu.</span><span class="sxs-lookup"><span data-stu-id="245d9-125">If your application requires working with disconnected graphs of entities, consider other alternatives such as [Trackable Entities](http://trackableentities.github.io/), which is a technology similar to Self-Tracking-Entities that is more actively developed by the community, or writing custom code using the low-level change tracking APIs.</span></span>
